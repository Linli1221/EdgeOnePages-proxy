{
  "caches": [
    {
      "source": "/images/*",
      "cacheTtl": 86400
    },
    {
      "source": "/static/*",
      "cacheTtl": 86400
    },
    {
      "source": "/api/*",
      "cacheTtl": 0
    },
    {
      "source": "/assets/*",
      "cacheTtl": 604800
    }
  ],
  "headers": [
    {
      "source": "/*",
      "headers": [
        { "key": "X-Frame-Options", "value": "SAMEORIGIN" },
        { "key": "X-Content-Type-Options", "value": "nosniff" },
        { "key": "Referrer-Policy", "value": "strict-origin-when-cross-origin" },
        { "key": "Permissions-Policy", "value": "camera=(), microphone=(), geolocation=()" }
      ]
    },
    {
      "source": "/assets/*",
      "headers": [
        { "key": "Cache-Control", "value": "public, max-age=86400" }
      ]
    }
  ],
  "rewrites": [
    { 
      "source": "/blog/*", 
      "destination": "/blog-new/:splat" 
    },
    {
      "source": "/api/*",
      "destination": "/api/:splat"
    },
    {
      "source": "/((?!api|assets|static|images|.*\\.).*)$",
      "destination": "/index.html"
    }
  ],
  "redirects": [
    { 
      "source": "/old-path", 
      "destination": "/new-path", 
      "statusCode": 301 
    },
    { 
      "source": "/legacy/*", 
      "destination": "/modern/:splat", 
      "statusCode": 301 
    }
  ]
}